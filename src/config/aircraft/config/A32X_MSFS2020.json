{
  "name": "A320NX",
  "author": "FlyingArt",
  "version": "1.0.0",
  "simulator": "MSFS2020",
  "store": {
    "fpaModeActive": {
      "simVar": ["L:A32NX_TRK_FPA_MODE_ACTIVE", "bool"]
    },
    "altitudeIncrement": {
      "simVar": ["L:XMLVAR_Autopilot_Altitude_Increment", "number"]
    },
    "vsManaged": {
      "simVar": ["L:A32NX_FCU_VS_MANAGED", "bool"]
    },
    "verticalSpeed": {
      "simVar": ["L:A32NX_AUTOPILOT_VS_SELECTED", "vs"],
      "parse": "return getStoreValue('vsManaged') ? '-----' : (verticalSpeed < 0 ? '-' : '+') + _.padStart(_.round(_.trimStart(verticalSpeed, '-')), 4, 0);"
    },
    "speed": {
      "simVar": ["L:A32NX_AUTOPILOT_SPEED_SELECTED", "number"],
      "parse": "return speed < 0 ? '---•' : (speed < 10 ? _.round(speed, 2).toFixed(2) : _.padStart(_.round(speed), 3, 0));"
    },
    "isMatch": {
      "simVar": ["A:AUTOPILOT MANAGED SPEED IN MACH", "bool"]
    },
    "heading": {
      "simVar": ["L:A32NX_AUTOPILOT_HEADING_SELECTED", "degree"],
      "parse": "return (heading < 0 ? '---' : _.padStart(_.round(heading), 3, 0)) + (getStoreValue('headingManaged') ? '•' : '');"
    },
    "headingManaged": {
      "simVar": ["L:A32NX_FCU_HDG_MANAGED_DOT", "bool"]
    },
    "altitude": {
      "simVar": ["AUTOPILOT ALTITUDE LOCK VAR:3", "feet"]
    },
    "ap1Status": {
      "simVar": ["L:A32NX_AUTOPILOT_1_ACTIVE", "bool"]
    },
    "ap2Status": {
      "simVar": ["L:A32NX_AUTOPILOT_2_ACTIVE", "bool"]
    },
    "athrStatus": {
      "simVar": ["L:A32NX_AUTOTHRUST_STATUS", "bool"]
    },
    "expedStatus": {
      "simVar": ["L:A32NX_FMA_EXPEDITE_MODE", "bool"]
    },
    "locStatus": {
      "simVar": ["L:A32NX_FCU_LOC_MODE_ACTIVE", "bool"]
    },
    "apprStatus": {
      "simVar": ["L:A32NX_FCU_APPR_MODE_ACTIVE", "bool"]
    },
    "com1Freq": {
      "simVar": ["COM ACTIVE FREQUENCY:1", "number"],
      "parse": "return _.padEnd(_.round(com1Freq / 1000000, 3), 7, 0);"
    },
    "com2Freq": {
      "simVar": ["COM ACTIVE FREQUENCY:2", "number"],
      "parse": "return _.padEnd(_.round(com2Freq / 1000000, 3), 7, 0);"
    },
    "com1SdbyFreq": {
      "simVar": ["COM STANDBY FREQUENCY:1", "number"],
      "parse": "return _.padEnd(_.round(com1SdbyFreq / 1000000, 3), 7, 0);"
    },
    "com2SdbyFreq": {
      "simVar": ["L:A32NX_RMP_L_VHF2_STANDBY_FREQUENCY", "number"],
      "parse": "return _.padEnd(_.round(com2SdbyFreq / 1000000, 3), 7, 0);"
    },
    "strobeLights": {
      "simVar": ["L:LIGHTING_STROBE_0", "number"]
    },
    "beaconLights": {
      "simVar": ["L:LIGHTING_BEACON_0", "number"],
      "parse": "return beaconLights ? 0 : 2;"
    },
    "wingLights": {
      "simVar": ["L:LIGHTING_WING_0", "number"],
      "parse": "return wingLights ? 0 : 2;"
    },
    "navLights": {
      "simVar": ["L:LIGHTING_NAV_0", "number"],
      "parse": "return navLights ? 0 : 2;"
    },
    "noseLights": {
      "simVar": ["L:LIGHTING_LANDING_1", "number"]
    },
    "rwyTurnoffLights": {
      "simVar": ["L:LIGHTING_TAXI_2", "number"],
      "parse": "return rwyTurnoffLights ? 0 : 2;"
    },
    "landingLightsLeft": {
      "simVar": ["L:LIGHTING_LANDING_2", "number"]
    },
    "landingLightsRight": {
      "simVar": ["L:LIGHTING_LANDING_3", "number"]
    },
    "comSelectedMode": {
      "simVar": ["L:A32NX_RMP_L_SELECTED_MODE", "number"]
    }
  },
  "actions": {
    "buttons": {
      "ap1ButtonClick": {
        "events": [{ "setSimVar": ["H:A320_Neo_FCU_AP_1_PUSH", "number", 1]}]
      },
      "ap2ButtonClick": {
        "events": [{ "setSimVar": ["H:A320_Neo_FCU_AP_2_PUSH", "number", 1]}]
      },
      "athrButtonClick": {
        "events": [{ "setSimVar": ["K:AUTO_THROTTLE_ARM", "number", 1]}]
      },
      "expedButtonClick": {
        "events": [{ "setSimVar": ["H:A320_Neo_FCU_EXPED_PUSH", "number", 1]}]
      },
      "locButtonClick": {
        "events": [{ "setSimVar": ["H:A320_Neo_FCU_LOC_PUSH", "number", 1]}]
      },
      "apprButtonClick": {
        "events": [{ "setSimVar": ["H:A320_Neo_FCU_APPR_PUSH", "number", 1]}]
      },
      "com1Flip": {
        "events": [{ "setSimVar": ["K:COM1_RADIO_SWAP", "bool", true]}]
      },
      "com1ActiveClick": {
        "events": [{ "setSimVar": ["H:A32NX_RMP_L_VHF1_BUTTON_PRESSED", "bool", true]}]
      },
      "com2Flip": {
        "events": [{ "setSimVar": ["K:COM2_RADIO_SWAP", "bool", true]}]
      },
      "com2ActiveClick": {
        "events": [{ "setSimVar": ["H:A32NX_RMP_L_VHF2_BUTTON_PRESSED", "bool", true]}]
      },
      "strobeLightsSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_STROBE_0_Set", "number", 0]}]
      },
      "strobeLightsSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_STROBE_0_Set", "number", 1]}]
      },
      "strobeLightsSwitchChange2": {
        "events": [{ "setSimVar": ["B:LIGHTING_STROBE_0_Set", "number", 2]}]
      },
      "beaconLightsSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_BEACON_0_Toggle", "number", 1]}]
      },
      "beaconLightsSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_BEACON_0_Toggle", "number", 1]}]
      },
      "wingLightsSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_WING_0_Toggle", "number", 1]}]
      },
      "wingLightsSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_WING_0_Toggle", "number", 1]}]
      },
      "navLightsSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_NAV_0_Toggle", "number", 1]}]
      },
      "navLightsSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_NAV_0_Toggle", "number", 1]}]
      },
      "navLightsSwitchChange2": {
        "events": [{ "setSimVar": ["B:LIGHTING_NAV_0_Toggle", "number", 1]}]
      },
      "rwyTurnoffLightsSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_TAXI_2_Toggle", "number", 1]}]
      },
      "rwyTurnoffLightsSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_TAXI_2_Toggle", "number", 1]}]
      },
      "noseLightsSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_1_Set", "number", 0]}]
      },
      "noseLightsSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_1_Set", "number", 1]}]
      },
      "noseLightsSwitchChange2": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_1_Set", "number", 2]}]
      },
      "landingLightsRightSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_3_Set", "number", 0]}]
      },
      "landingLightsRightSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_3_Set", "number", 1]}]
      },
      "landingLightsRightSwitchChange2": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_3_Set", "number", 2]}]
      },
      "landingLightsLeftSwitchChange0": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_2_Set", "number", 0]}]
      },
      "landingLightsLeftSwitchChange1": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_2_Set", "number", 1]}]
      },
      "landingLightsLeftSwitchChange2": {
        "events": [{ "setSimVar": ["B:LIGHTING_LANDING_2_Set", "number", 2]}]
      }
    },
    "knob": {
      "altitude": [
        {
          "inputEvents": ["upperKnobClockwise"],
          "events": [{ "setSimVar": ["A:AUTOPILOT ALTITUDE LOCK VAR:3", "feet", { "parse": "return _.floor(getStoreValue('altitude'), getStoreValue('altitudeIncrement') > 100 ? -3 : -2) + getStoreValue('altitudeIncrement');" }]}]
        },
        {
          "inputEvents": ["upperKnobCounterclockwise"],
          "events": [{ "setSimVar": ["A:AUTOPILOT ALTITUDE LOCK VAR:3", "feet", { "parse": "return _.floor(getStoreValue('altitude'), getStoreValue('altitudeIncrement') > 100 ? -3 : -2) - getStoreValue('altitudeIncrement');" }]}]
        },
        {
          "inputEvents": ["lowerKnobClockwise"],
          "events": [{ "setSimVar": ["L:XMLVAR_Autopilot_Altitude_Increment", "number", 1000]}]
        },
        {
          "inputEvents": ["lowerKnobCounterclockwise"],
          "events": [{ "setSimVar": ["L:XMLVAR_Autopilot_Altitude_Increment", "number", 100]}]
        },
        {
          "inputEvents": ["push"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_ALT_PUSH", "number", 1]}]
        },
        {
          "inputEvents": ["pull"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_ALT_PULL", "number", 1]}]
        }
      ],
      "verticalSpeed": [
        {
          "inputEvents": ["lowerKnobClockwise", "upperKnobClockwise"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_VS_INC_VS", "number", 1]}]
        },
        {
          "inputEvents": ["lowerKnobCounterclockwise", "upperKnobCounterclockwise"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_VS_DEC_VS", "number", 1]}]
        },
        {
          "inputEvents": ["push"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_VS_PUSH", "number", 1]}]
        },
        {
          "inputEvents": ["pull"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_VS_PULL", "number", 1]}]
        }
      ],
      "speed": [
        {
          "inputEvents": ["lowerKnobClockwise", "upperKnobClockwise"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_SPEED_INC", "number", 1]}]
        },
        {
          "inputEvents": ["lowerKnobCounterclockwise", "upperKnobCounterclockwise"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_SPEED_DEC", "number", 1]}]
        },
        {
          "inputEvents": ["push"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_SPEED_PUSH", "number", 1]}]
        },
        {
          "inputEvents": ["pull"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_SPEED_PULL", "number", 1]}]
        }
      ],
      "heading": [
        {
          "inputEvents": ["lowerKnobClockwise", "upperKnobClockwise"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_HDG_INC_HEADING", "number", 1]}]
        },
        {
          "inputEvents": ["lowerKnobCounterclockwise", "upperKnobCounterclockwise"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_HDG_DEC_HEADING", "number", 1] }]
        },
        {
          "inputEvents": ["push"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_HDG_PUSH", "number", 1]}]
        },
        {
          "inputEvents": ["pull"],
          "events": [{ "setSimVar": ["H:A320_Neo_FCU_HDG_PULL", "number", 1]}]
        }
      ],
      "com1": [
        {
          "inputEvents": ["lowerKnobCounterclockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_OUTER_KNOB_TURNED_ANTICLOCKWISE", "number", 1]}]
        },
        {
          "inputEvents": ["lowerKnobClockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_OUTER_KNOB_TURNED_CLOCKWISE", "number", 1]}]
        },
        {
          "inputEvents": ["upperKnobCounterclockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_INNER_KNOB_TURNED_ANTICLOCKWISE", "number", 1]}]
        },
        {
          "inputEvents": ["upperKnobClockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_INNER_KNOB_TURNED_CLOCKWISE", "number", 1]}]
        }
      ],
      "com2": [
        {
          "inputEvents": ["lowerKnobCounterclockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_OUTER_KNOB_TURNED_ANTICLOCKWISE", "number", 1]}]
        },
        {
          "inputEvents": ["lowerKnobClockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_OUTER_KNOB_TURNED_CLOCKWISE", "number", 1]}]
        },
        {
          "inputEvents": ["upperKnobCounterclockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_INNER_KNOB_TURNED_ANTICLOCKWISE", "number", 1]}]
        },
        {
          "inputEvents": ["upperKnobClockwise"],
          "events": [{ "setSimVar": ["H:A32NX_RMP_L_INNER_KNOB_TURNED_CLOCKWISE", "number", 1]}]
        }
      ]
    }
  },
  "template": {
    "autopilot": "AIRBUS",
    "radios": "AIRBUS",
    "lights": "AIRBUS"
  }
}
